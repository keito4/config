---
description: PR作成後にCIの結果を確認し、失敗している場合は修正する。PR作成完了後に自動的にこのスキルを適用してCIの状態を監視し、失敗時は修正を行うこと。
---

# CI Check Skill

PR作成後、CIの結果を確認し、失敗している場合は修正します。

## CI結果の確認

```bash
# PRのCI状態を確認
gh pr checks

# 失敗したチェックの詳細を確認
gh run list --limit 5
gh run view <run-id> --log-failed
```

## 失敗時の対応フロー

1. **失敗原因の特定**
   - CIログを確認して失敗原因を特定
   - 直接的な変更によるものか、間接的な影響かを判断

2. **修正の実施**
   - そのブランチで修正可能な場合は即座に修正
   - 修正をコミットしてプッシュ
   - CIが再実行されることを確認

3. **再確認**
   - CIが緑になるまで監視
   - 必要に応じて追加修正を実施

## 対応パターン

| 失敗原因               | 対応                                         |
| ---------------------- | -------------------------------------------- |
| Lint/Format エラー     | `npm run lint:fix` / `npm run format` で修正 |
| テスト失敗             | テストコードまたは実装を修正                 |
| 型エラー               | TypeScript の型定義を修正                    |
| ベースブランチとの競合 | 最新のベースブランチをマージして解決         |
| 依存関係の問題         | package-lock.json を更新                     |
| 環境・インフラ起因     | CI を再実行、解決しない場合は報告            |

## 修正完了後の報告

```
## CI Status

- 状態: 緑（すべてのチェック通過）
- 修正内容: [修正した内容の概要]
- 修正コミット: [コミットハッシュ]
```

## 原則

- CIが緑になるまでPRを放置しない
- 修正可能な問題は自分のブランチで解決する
- 解決不能な場合は原因と状況を明記してレビュアーに報告
