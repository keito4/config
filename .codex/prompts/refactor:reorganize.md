# 高凝集にして内部変更を容易にする

## 目的

密接に関連するデータと振る舞いを近接配置し、内部の作り替えを低コストにする。

## 適用場面

- 関連機能が別散し、修正が横断的になる
- 値/型/定数が多所に点在
- 長関数が複数の小責務を抱えている

## 基本ルール

- 近くで使うものは近くに置く
- 役割が近い小片は統合して読み順を素直に
- ディレクトリは役割（関心）名で切る

## 手順（最小リスク）

0. 関連箇所を全リポジトリから洗い出し、5件ずつGitHub Issueに整理してから実装を開始（MCP経由を推奨）
1. 使用箇所へ定義を移動（近接配置）
2. 値オブジェクト/パラメータオブジェクト化で意図を集約
3. 同系のヘルパー・定数を1か所へ統合

## 測定指標（改善確認）

- 変更時に触るファイル数↓
- 同名/類似ユーティリティ数↓
- 関数の引数個数↓、局所変数の寿命↓

## アンチパターン

- 形だけのクラス分割で実質凝集が下がる
- 便利フォルダ（misc/utils）への無差別集約

## 関連タグ（refactor）

`refactor:reorganize`, `refactor:simplify`, `refactor:dedupe`

## コミット例

```
refactor:reorganize group user validators under domain/user/validators
```
